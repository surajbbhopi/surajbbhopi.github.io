var googleMapsLoaded=false;function loadGoogleMapsScript(){if(googleMapsLoaded){initialize();return;}
var script=document.createElement("script");script.type="text/javascript";script.src="";document.body.appendChild(script);googleMapsLoaded=true;}
function initialize(){var mapStyles=[{"featureType":"landscape","stylers":[{"saturation":-100},{"lightness":65},{"visibility":"on"}]},{"featureType":"poi","stylers":[{"saturation":-100},{"lightness":51},{"visibility":"simplified"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"","stylers":[{"saturation":-100},{"visibility":"simplified"}]},{"featureType":"","stylers":[{"saturation":-100},{"lightness":30},{"visibility":"on"}]},{"featureType":"road.local","stylers":[{"saturation":-100},{"lightness":40},{"visibility":"on"}]},{"featureType":"transit","stylers":[{"saturation":-100},{"visibility":"simplified"}]},{"featureType":"administrative.province","stylers":[{"visibility":"off"}]},{"featureType":"administrative.locality","elementType":"labels","stylers":[{"hue":"#000000"},{"lightness":0},{"saturation":-100}]},{"featureType":"administrative","stylers":[{"visibility":"off"}]},{"featureType":"","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"labels","stylers":[{"visibility":"on"},{"lightness":-25},{"saturation":-100}]},{"featureType":"water","elementType":"geometry","stylers":[{"hue":"#ffff00"},{"lightness":-25},{"saturation":-97}]}];var mapOptions={center:new google.maps.LatLng(52.4063740,16.9251680),zoom:12,scrollwheel:false,disableDefaultUI:true,disableDoubleClickZoom:true,backgroundColor:'#ffffff',styles:mapStyles};var map=new google.maps.Map(document.getElementById("map"),mapOptions);$('#map').each(function(){var $marker=$('<div class="marker"><span>Live in Poznan/Poland</span><br><span>But work everywhere you need</span></div>').appendTo(this);$(this).mouseenter(function(){TweenMax.to($(this).children().not('.marker'),50,{scale:1.4,ease:Linear.easeNone});}).mouseleave(function(){TweenMax.to($(this).children().not('.marker'),2,{scale:1,ease:Cubic.easeInOut});});});}
function projectsEvents(){TweenMax.to("#projects li a span",0,{alpha:0,scale:0.5});$('#projects>ul>li>a').each(function(){$(this).mouseenter(function(){TweenMax.to($(this).children('img:visible'),30,{scale:1.5,ease:Linear.easeNone});TweenMax.to($(this).children('span'),0.6,{alpha:1,scale:1,ease:Back.easeOut});}).mouseleave(function(){TweenMax.to($(this).children('img:visible'),2,{scale:1,ease:Cubic.easeInOut});TweenMax.to($(this).children('span'),0.4,{alpha:0,scale:0.5,ease:Back.easeIn});});});$('#projects>ul>li>a>span').css('display','block');if($('#not-found').length)
$('body').addClass('not-found');var lockedHandle=false;$('#not-found .drag span+span').css({opacity:0})
$(document).ready(function(){setTimeout(function(){$('#not-found .drag span+span').fadeTo(1400,1);},1000);});$('#not-found .drag').drag(function(ev,dd){var width=$('body').width();var leftPercent=dd.offsetX*100/width;if(lockedHandle)
return;if(leftPercent<75){lockedHandle=true;$('#not-found').animate({width:0},2000,function(){$(this).remove();$('body').removeClass('not-found');$('.mask').remove();lockedHandle=false;});$('header,#projects').animate({left:0},2000);History.pushState({},'',$('header nav a.active').attr('href'));return}
$('#not-found').css({width:Math.min(leftPercent,90)+'%'});$('header,#projects,.mask').css({left:Math.min(leftPercent,90)+'%'});},{handle:'.handle'});}
function setActiveItem(item){var $this=$('header li:eq('+item+') a');$this.addClass('active');$this.closest('ul').find('a').not($this).removeClass('active');$this.closest('header').removeClass('opened');}
$(window).resize(function(){$('body>#project ul').each(function(){$(this).css('width',$(this).children().length*$('body').width()+'px');$(this).children().css('width',$('body').width()+'px');});$('header').removeClass('opened');});$(document).on('click','a[href]:not(a[target])',function(e){e.preventDefault();History.pushState({},'',$(this).attr('href'));$.get($(this).attr('href'),function(data){$('body>.page').fadeOut(200,function(){$(this).replaceWith(data);$('body>.page').css({opacity:0}).fadeTo(200,1,function(){loadPage($(this).attr('id'));});})});});$(document).on('touchstart','.page, .page>*',function(e){$('header').removeClass('opened');});History.Adapter.bind(window,'statechange',function(){var State=History.getState();$.get(State.url,function(data){$('body>.page').fadeOut(200,function(){$(this).replaceWith(data);$('body>.page').css({opacity:0}).fadeTo(200,1,function(){loadPage($(this).attr('id'));});if(typeof(_gaq)!='undefined')
_gaq.push(['_trackPageview',State.url]);})});});function contactEvents(){$('#contact form').unbind('submit').bind('submit',function(e){e.preventDefault();$.post($(this).attr('action'),$(this).serialize(),function(data){$('#contact .form').replaceWith(data);contactEvents();});});}
function loadPage(targetId){var $this=$('#'+targetId);$('html,body').animate({scrollTop:0},500,'swing');$('body').toggleClass('home',targetId=='homepage');if($this.attr('data-title'))
document.title=$this.attr('data-title');switch(targetId){case'contact':setActiveItem(2);contactEvents();loadGoogleMapsScript();break;case'about':setActiveItem(1);$this.find('.numbers li p strong').text('0');$this.find('.numbers li span, .numbers li p strong').css({opacity:0});$this.find('.numbers li').each(function(i){var $item=$(this);setTimeout(function(){$item.find('span, p strong').fadeTo(400,1,function(){if($(this).is('strong'))
$(this).countTo();});},400*(i+1));});$('#about .drag span+span').css({opacity:0})
$(document).ready(function(){setTimeout(function(){$('#about .drag span+span').fadeTo(1400,1);},1000);});var section='ipad';var newSection=section;$('#about .drag').drag(function(ev,dd){var $container=$(this).closest('.responsive');var width=$container.width();var leftPercent=Math.min(Math.max((dd.offsetX*100/width)-(130*100/width),(130*100/width)),100-(200*100/width));if(leftPercent<33){$container.find('svg').hide();$container.find('#imac').show();newSection='imac';}else if(leftPercent<62){$container.find('svg').hide();$container.find('#ipad').show();newSection='ipad';}else{$container.find('svg').hide();$container.find('#iphone').show();newSection='iphone';}
if(newSection!=section)
init();section=newSection;$container.find('.devices').css({width:100-leftPercent+"%"});$(this).css({left:leftPercent+"%"});},{handle:'.handle'});break;case'project':setActiveItem(0);$('#project .incentive').css({opacity:.55});break;case'projects':setActiveItem(0);projectsEvents();break;case'homepage':$this.find('.welcome').each(function(){$('<p class="badges"><a title="" target="_blank" rel="nofollow"><img src="'+settings.staticUrl+'" alt=""></a><a title="" href="" target="_blank" rel="nofollow"><img src="'+settings.staticUrl+'" alt=""></a><a title="" href="" target="_blank" rel="nofollow"><img src="'+settings.staticUrl+'" alt=""></a></p>').appendTo('header');$(this).mouseenter(function(){TweenMax.to($('#homepage p.background img'),30,{scale:1.4,ease:Linear.easeNone});}).mouseleave(function(){TweenMax.to($('#homepage p.background img'),2,{scale:1,ease:Cubic.easeOut});});TweenMax.to($('#homepage p.background img'),0,{scale:1});});break;}}
$(document).ready(function(){loadPage($('body>.page').attr('id'));});$(document).bind('scroll touchend',function(){var top=Math.max($('body').scrollTop(),$('html').scrollTop());if(top>($(window).height()/5)){$('#project .incentive').stop().fadeTo(500,0);}else{$('#project .incentive').stop().fadeTo(500,.55);}});$('header p.collapse a').click(function(){$(this).closest('header').toggleClass('opened');});'use strict';var docElem=window.document.documentElement;window.requestAnimFrame=function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);});}();window.cancelAnimFrame=function(){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(id){window.clearTimeout(id);});}();function SVGEl(el){this.el=el;this.image=this.el.previousElementSibling;this.current_frame=0;this.total_frames=30;this.path=new Array();this.length=new Array();this.handle=0;this.init();}
SVGEl.prototype.init=function(){var self=this;[].slice.call(this.el.querySelectorAll('path')).forEach(function(path,i){self.path[i]=path;var l=self.path[i].getTotalLength();self.length[i]=l;self.path[i].style.strokeDasharray=l+' '+l;self.path[i].style.strokeDashoffset=l;});};SVGEl.prototype.render=function(){if(this.rendered)return;this.rendered=true;this.draw();};SVGEl.prototype.draw=function(){var self=this,progress=this.current_frame/this.total_frames;if(progress>1){window.cancelAnimFrame(this.handle);}else{this.current_frame++;for(var j=0,len=this.path.length;j<len;j++){this.path[j].style.strokeDashoffset=Math.floor(this.length[j]*(1-progress));}
this.handle=window.requestAnimFrame(function(){self.draw();});}};SVGEl.prototype.redraw=function(){alert('test');};function getViewportH(){var client=docElem['clientHeight'],inner=window['innerHeight'];if(client<inner)
return inner;else
return client;}
function scrollY(){return window.pageYOffset||docElem.scrollTop;}
function getOffset(el){var offsetTop=0,offsetLeft=0;do{if(!isNaN(el.offsetTop)){offsetTop+=el.offsetTop;}
if(!isNaN(el.offsetLeft)){offsetLeft+=el.offsetLeft;}}while(el=el.offsetParent)
return{top:offsetTop,left:offsetLeft};}
function inViewport(el,h){var elH=el.offsetHeight,scrolled=scrollY(),viewed=scrolled+getViewportH(),elTop=getOffset(el).top,elBottom=elTop+elH,h=h||0;return(elTop+elH*h)<=viewed&&(elBottom)>=scrolled;}
function init(){var svgs=Array.prototype.slice.call(document.querySelectorAll('.responsive svg')),svgArr=new Array(),didScroll=false,resizeTimeout;svgs.forEach(function(el,i){var svg=new SVGEl(el);svgArr[i]=svg;setTimeout(function(el){return function(){if(inViewport(el.parentNode)){svg.render();}};}(el),100);});var scrollHandler=function(){if(!didScroll){didScroll=true;setTimeout(function(){scrollPage();},60);}},scrollPage=function(){svgs.forEach(function(el,i){if(inViewport(el.parentNode,0.5)){svgArr[i].render();}});didScroll=false;},resizeHandler=function(){function delayed(){scrollPage();resizeTimeout=null;}
if(resizeTimeout){clearTimeout(resizeTimeout);}
resizeTimeout=setTimeout(delayed,200);};window.addEventListener('scroll',scrollHandler,false);window.addEventListener('resize',resizeHandler,false);}
init();